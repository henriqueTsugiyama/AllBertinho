{"ast":null,"code":"import _regeneratorRuntime from\"/home/henrique_yasuo/Documents/AllBertinho/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/henrique_yasuo/Documents/AllBertinho/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/henrique_yasuo/Documents/AllBertinho/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import React,{useState,useEffect}from\"react\";import{Row,Col,Card}from\"react-bootstrap\";import{Link}from\"react-router-dom\";import api from\"../../services/api\";import CarrinhoCompras from\"../Carrinho\";function HistoricoVendas(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),sales=_useState2[0],setSale=_useState2[1];useEffect(function(){var fetchSales=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return api.get(\"/sale\");case 2:res=_context.sent;console.log(res.data);setSale(res.data);case 5:case\"end\":return _context.stop();}}},_callee);}));return function fetchSales(){return _ref.apply(this,arguments);};}();fetchSales();},[]);function returnProduct(id){var confirm=window.confirm(\"Ah, que pena! Mas tudo bem. Esperamos ter você de volta em compras futuras. Para devolver o seu produto, é só deixá-lo de volta onde o encontrou, e confirmar aqui embaixo quando o fizer. Caso você não tenha como retornar ao local, envie o produto para o endereço: Rua Linda, 293. Ao receber seu produto, extornaremos o valor. Confirme abaixo se devolveu o produto ao local:\");if(confirm){api.delete(\"/sale/\".concat(id));}setTimeout(function(){return window.location.reload();},1000);}return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(CarrinhoCompras,{}),sales[0]!==undefined?sales.map(function(s){return/*#__PURE__*/_jsx(Col,{sm:12,md:6,lg:4,xl:3,children:/*#__PURE__*/_jsxs(Card,{className:\"rounded my-3 p-3\",children:[/*#__PURE__*/_jsx(Link,{to:\"/product/\".concat(s.product._id),children:/*#__PURE__*/_jsx(Card.Img,{src:s.product.image,variant:\"top\"})}),/*#__PURE__*/_jsx(Card.Body,{children:/*#__PURE__*/_jsx(Link,{children:/*#__PURE__*/_jsx(Card.Title,{children:/*#__PURE__*/_jsx(\"strong\",{children:s.product.name})})})}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return returnProduct(s._id);},children:\"Devolver produto\"})]})},s.product._id);}):/*#__PURE__*/_jsx(\"h2\",{className:\"title-box box-cart\",children:\"Voc\\xEA ainda n\\xE3o adiquiriu nenhum produto. Lembre-se de finalizar sua compra =)\"})]})});}export default HistoricoVendas;","map":{"version":3,"sources":["/home/henrique_yasuo/Documents/AllBertinho/src/components/HistoricoCompras/index.js"],"names":["React","useState","useEffect","Row","Col","Card","Link","api","CarrinhoCompras","HistoricoVendas","sales","setSale","fetchSales","get","res","console","log","data","returnProduct","id","confirm","window","delete","setTimeout","location","reload","undefined","map","s","product","_id","image","name"],"mappings":"6mBAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAASC,GAAT,CAAcC,GAAd,CAAmBC,IAAnB,KAA+B,iBAA/B,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,MAAOC,CAAAA,GAAP,KAAgB,oBAAhB,CACA,MAAOC,CAAAA,eAAP,KAA4B,aAA5B,CAEA,QAASC,CAAAA,eAAT,EAA2B,eACAR,QAAQ,CAAC,EAAD,CADR,wCAClBS,KADkB,eACXC,OADW,eAGzBT,SAAS,CAAC,UAAM,CACZ,GAAMU,CAAAA,UAAU,0FAAG,iKACCL,CAAAA,GAAG,CAACM,GAAJ,CAAQ,OAAR,CADD,QACXC,GADW,eAEjBC,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAhB,EACAN,OAAO,CAACG,GAAG,CAACG,IAAL,CAAP,CAHiB,sDAAH,kBAAVL,CAAAA,UAAU,0CAAhB,CAQFA,UAAU,GACX,CAVQ,CAUN,EAVM,CAAT,CAYA,QAASM,CAAAA,aAAT,CAAuBC,EAAvB,CAA2B,CACzB,GAAIC,CAAAA,OAAO,CAAGC,MAAM,CAACD,OAAP,CAAe,uXAAf,CAAd,CACA,GAAGA,OAAH,CAAY,CACVb,GAAG,CAACe,MAAJ,iBAAoBH,EAApB,GACD,CACDI,UAAU,CAAC,iBAAMF,CAAAA,MAAM,CAACG,QAAP,CAAgBC,MAAhB,EAAN,EAAD,CAAiC,IAAjC,CAAV,CACD,CAED,mBACE,sCACE,MAAC,GAAD,yBACA,KAAC,eAAD,IADA,CAEGf,KAAK,CAAC,CAAD,CAAL,GAAagB,SAAb,CAAyBhB,KAAK,CAACiB,GAAN,CAAU,SAAAC,CAAC,qBACnC,KAAC,GAAD,EAAyB,EAAE,CAAE,EAA7B,CAAiC,EAAE,CAAE,CAArC,CAAwC,EAAE,CAAE,CAA5C,CAA+C,EAAE,CAAE,CAAnD,uBACE,MAAC,IAAD,EAAM,SAAS,CAAC,kBAAhB,wBACE,KAAC,IAAD,EAAM,EAAE,oBAAcA,CAAC,CAACC,OAAF,CAAUC,GAAxB,CAAR,uBACE,KAAC,IAAD,CAAM,GAAN,EAAU,GAAG,CAAEF,CAAC,CAACC,OAAF,CAAUE,KAAzB,CAAgC,OAAO,CAAC,KAAxC,EADF,EADF,cAIE,KAAC,IAAD,CAAM,IAAN,wBACE,KAAC,IAAD,wBACE,KAAC,IAAD,CAAM,KAAN,wBACE,wBAASH,CAAC,CAACC,OAAF,CAAUG,IAAnB,EADF,EADF,EADF,EAJF,cAWE,eAAQ,OAAO,CAAE,yBAAMd,CAAAA,aAAa,CAACU,CAAC,CAACE,GAAH,CAAnB,EAAjB,8BAXF,GADF,EAAUF,CAAC,CAACC,OAAF,CAAUC,GAApB,CADmC,EAAX,CAAzB,cAkBC,WAAI,SAAS,CAAC,oBAAd,iGApBJ,GADF,EADF,CA2BD,CAED,cAAerB,CAAAA,eAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Row, Col, Card } from \"react-bootstrap\";\nimport { Link } from \"react-router-dom\";\nimport api from \"../../services/api\";\nimport CarrinhoCompras from \"../Carrinho\"\n\nfunction HistoricoVendas() {\n  const [sales, setSale] = useState([]);\n\n  useEffect(() => {\n      const fetchSales = async () => {\n        const res = await api.get(\"/sale\");\n        console.log(res.data);\n        setSale(res.data);\n      };\n    \n    \n\n    fetchSales();\n  }, []);\n\n  function returnProduct(id) {\n    let confirm = window.confirm(\"Ah, que pena! Mas tudo bem. Esperamos ter você de volta em compras futuras. Para devolver o seu produto, é só deixá-lo de volta onde o encontrou, e confirmar aqui embaixo quando o fizer. Caso você não tenha como retornar ao local, envie o produto para o endereço: Rua Linda, 293. Ao receber seu produto, extornaremos o valor. Confirme abaixo se devolveu o produto ao local:\");\n    if(confirm) {\n      api.delete(`/sale/${id}`);\n    }\n    setTimeout(() => window.location.reload(), 1000);\n  }\n\n  return (\n    <>\n      <Row>\n      <CarrinhoCompras/>\n        {sales[0] !== undefined ? sales.map(s => (\n          <Col key={s.product._id} sm={12} md={6} lg={4} xl={3}>\n            <Card className=\"rounded my-3 p-3\">\n              <Link to={`/product/${s.product._id}`}>\n                <Card.Img src={s.product.image} variant=\"top\"></Card.Img>\n              </Link>\n              <Card.Body>\n                <Link>\n                  <Card.Title>\n                    <strong>{s.product.name}</strong>\n                  </Card.Title>\n                </Link>\n              </Card.Body>\n              <button onClick={() => returnProduct(s._id)}>Devolver produto</button>\n            </Card>\n          </Col>\n        )) : \n        (\n          <h2 className='title-box box-cart'>Você ainda não adiquiriu nenhum produto. Lembre-se de finalizar sua compra =)</h2>\n        )}\n      </Row>\n    </>\n)\n}\n\nexport default HistoricoVendas;\n"]},"metadata":{},"sourceType":"module"}